From 8cf04fb429485d475acb6db4462e46d5dc218adf Mon Sep 17 00:00:00 2001
From: Johannes Schmitz <schmitz@ti.rwth-aachen.de>
Date: Thu, 6 Aug 2015 10:41:07 +0200
Subject: [PATCH 01/17] gr-zeromq: fix python examples

---
 gr-zeromq/examples/python/client.py | 4 ++--
 gr-zeromq/examples/python/gui.py    | 4 ++--
 gr-zeromq/examples/python/server.py | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/gr-zeromq/examples/python/client.py b/gr-zeromq/examples/python/client.py
index 7663f9a..a63a77a 100755
--- a/gr-zeromq/examples/python/client.py
+++ b/gr-zeromq/examples/python/client.py
@@ -53,8 +53,8 @@ class top_block(gr.top_block):
         #self.zmq_source = zeromq.req_source(gr.sizeof_float, 1, source_adr)
         #self.zmq_source = zeromq.pull_source(gr.sizeof_float, 1, source_adr)
         self.zmq_source = zeromq.sub_source(gr.sizeof_float, 1, source_adr)
-        #self.zmq_probe = zeromq.push_sink(gr.sizeof_float,probe_adr)
-        self.zmq_probe = zeromq.pub_sink(gr.sizeof_float,probe_adr)
+        #self.zmq_probe = zeromq.push_sink(gr.sizeof_float, 1, probe_adr)
+        self.zmq_probe = zeromq.pub_sink(gr.sizeof_float, 1, probe_adr)
 
         # connects
         self.connect(self.zmq_source, self.zmq_probe)
diff --git a/gr-zeromq/examples/python/gui.py b/gr-zeromq/examples/python/gui.py
index 91223dd..ffdfdc2 100755
--- a/gr-zeromq/examples/python/gui.py
+++ b/gr-zeromq/examples/python/gui.py
@@ -130,13 +130,13 @@ class gui(QtGui.QMainWindow):
         self.plot_data(self.gui.qwtPlotClient, samples)
 
     def set_waveform(self, waveform_str):
-        self.rpc_mgr_server.request("set_waveform",str(waveform_str))
+        self.rpc_mgr_server.request("set_waveform",[str(waveform_str)])
 
     def set_gain(self, gain):
         self.rpc_set_gain(gain)
 
     def rpc_set_gain(self, gain):
-        self.rpc_mgr_server.request("set_k",gain)
+        self.rpc_mgr_server.request("set_k",[gain])
 
 ###############################################################################
 # Options Parser
diff --git a/gr-zeromq/examples/python/server.py b/gr-zeromq/examples/python/server.py
index 358b66c..e3b7c9b 100755
--- a/gr-zeromq/examples/python/server.py
+++ b/gr-zeromq/examples/python/server.py
@@ -59,8 +59,8 @@ class top_block(gr.top_block):
         #self.zmq_sink = zeromq.rep_sink(gr.sizeof_float, 1, sink_adr)
         self.zmq_sink = zeromq.pub_sink(gr.sizeof_float, 1, sink_adr)
         #self.zmq_sink = zeromq.push_sink(gr.sizeof_float, 1, sink_adr)
-        #self.zmq_probe = zeromq.push_sink(gr.sizeof_float, probe_adr)
-        self.zmq_probe = zeromq.pub_sink(gr.sizeof_float, probe_adr)
+        #self.zmq_probe = zeromq.push_sink(gr.sizeof_float, 1, probe_adr)
+        self.zmq_probe = zeromq.pub_sink(gr.sizeof_float, 1, probe_adr)
         #self.null_sink = blocks.null_sink(gr.sizeof_float)
 
         # connects
-- 
2.1.4

