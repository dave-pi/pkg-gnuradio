From 10d23c38f5d95ea8f7f32dd06871bda4838797c5 Mon Sep 17 00:00:00 2001
From: Martin Braun <martin.braun@ettus.com>
Date: Tue, 6 Jun 2017 16:02:45 -0700
Subject: [PATCH 28/72] uhd: uhd_fft can now handle the case where the gain
 range is scalar

---
 gr-uhd/apps/uhd_fft | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

diff --git a/gr-uhd/apps/uhd_fft b/gr-uhd/apps/uhd_fft
index b65bb7a062..a04c310be3 100755
--- a/gr-uhd/apps/uhd_fft
+++ b/gr-uhd/apps/uhd_fft
@@ -139,9 +139,15 @@ class uhd_fft(gr.top_block, Qt.QWidget, UHDApp):
         self._samp_rate__tool_bar.addWidget(self._samp_rate__line_edit)
         self._samp_rate__line_edit.returnPressed.connect(
             lambda: self.set_samp_rate(eng_notation.str_to_num(str(self._samp_rate__line_edit.text().toAscii()))))
-        self.top_grid_layout.addWidget(self._samp_rate__tool_bar, 3,2,1,2)
+        self.top_grid_layout.addWidget(self._samp_rate__tool_bar, 3, 2, 1, 2)
         # Gain:
-        self._gain__range = Range(self.gain_range.start(), self.gain_range.stop(), self.gain_range.step(), self.gain, 200)
+        self._gain__range = Range(
+            self.gain_range.start(),
+            self.gain_range.stop(),
+            max(self.gain_range.step(), 1.0),
+            self.gain,
+            200
+        )
         self._gain__win = RangeWidget(self._gain__range, self.set_gain, "RX Gain", "counter_slider", float)
         self.top_grid_layout.addWidget(self._gain__win, 2,0,1,4)
         # Center frequency:
-- 
2.11.0

