From 7d82d3968ce7a84b3a1ead70be55aff980b0e1df Mon Sep 17 00:00:00 2001
From: "A. Maitland Bottoms" <bottoms@debian.org>
Date: Sun, 25 Feb 2018 13:27:01 -0500
Subject: [PATCH 20/22] qtgui pc add qt qwt details

---
 gr-qtgui/CMakeLists.txt       | 2 ++
 gr-qtgui/gnuradio-qtgui.pc.in | 4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/gr-qtgui/CMakeLists.txt b/gr-qtgui/CMakeLists.txt
index c06e516917..f1e89c97b2 100644
--- a/gr-qtgui/CMakeLists.txt
+++ b/gr-qtgui/CMakeLists.txt
@@ -131,6 +131,8 @@ endif(ENABLE_PYTHON)
 ########################################################################
 # Create Pkg Config File
 ########################################################################
+set( PC_LIBS "${QWT_LIBRARIES} ${QT_LIBRARIES}" )
+string (REPLACE ";" " " PC_LIBS_STR "${PC_LIBS}")
 configure_file(
     ${CMAKE_CURRENT_SOURCE_DIR}/gnuradio-qtgui.pc.in
     ${CMAKE_CURRENT_BINARY_DIR}/gnuradio-qtgui.pc
diff --git a/gr-qtgui/gnuradio-qtgui.pc.in b/gr-qtgui/gnuradio-qtgui.pc.in
index 8f0dcd53f7..2489caf214 100644
--- a/gr-qtgui/gnuradio-qtgui.pc.in
+++ b/gr-qtgui/gnuradio-qtgui.pc.in
@@ -7,5 +7,5 @@ Name: gnuradio-qtgui
 Description: GNU Radio blocks for QT GUI
 Requires: gnuradio-runtime
 Version: @LIBVER@
-Libs: -L${libdir} -lgnuradio-qtgui
-Cflags: -I${includedir}
+Libs: -L${libdir} -lgnuradio-qtgui ${PC_LIBS_STR}
+Cflags: -I${includedir} -I${QWT_INCLUDE_DIRS} -I${QT_HEADERS_DIR}
-- 
2.11.0

