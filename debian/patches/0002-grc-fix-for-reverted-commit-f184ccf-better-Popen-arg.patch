From 3a2cdbc9e34d277a992f3a2fcbfc6641508ca07f Mon Sep 17 00:00:00 2001
From: Sebastian Koslowski <koslowski@kit.edu>
Date: Wed, 12 Aug 2015 11:09:30 +0200
Subject: [PATCH 02/17] grc: fix for reverted commit f184ccf 'better Popen
 argument handling...'

---
 grc/python/Generator.py | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

--- a/grc/python/Generator.py
+++ b/grc/python/Generator.py
@@ -128,13 +128,17 @@
         # if self._generate_options == 'wx_gui' and 'darwin' in sys.platform.lower():
         #   python_exe = 'pythonw'
 
+        def args_to_string(args):
+            """Accounts for spaces in args"""
+            return ' '.join(repr(arg) if ' ' in arg else arg for arg in args)
+
         # setup the command args to run
         cmds = [python_exe, '-u', self.get_file_path()]  # -u is unbuffered stdio
 
         # when in no gui mode on linux, use a graphical terminal (looks nice)
         xterm_executable = find_executable(XTERM_EXECUTABLE)
         if self._generate_options == 'no_gui' and xterm_executable:
-            cmds = [xterm_executable, '-e'] + cmds
+            cmds = [xterm_executable, '-e', args_to_string(cmds)]
 
         p = subprocess.Popen(
             args=cmds, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
