From 39688a01cd0b91a366465bf7e9beeb7bfeb74087 Mon Sep 17 00:00:00 2001
From: Tom Rondeau <tom@trondeau.com>
Date: Sun, 15 Dec 2013 15:17:27 -0500
Subject: [PATCH 15/25] qtgui: more fixes needed to turn on/off python
 properly for sip calls.

---
 gr-qtgui/lib/CMakeLists.txt  |    2 ++
 gr-qtgui/swig/CMakeLists.txt |    3 +++
 2 files changed, 5 insertions(+)

diff --git a/gr-qtgui/lib/CMakeLists.txt b/gr-qtgui/lib/CMakeLists.txt
index 93c3493..afaadb9 100644
--- a/gr-qtgui/lib/CMakeLists.txt
+++ b/gr-qtgui/lib/CMakeLists.txt
@@ -147,7 +147,9 @@ list(APPEND qtgui_libs
     ${LOG4CPP_LIBRARIES}
 )
 
+include(GrPython)
 if(ENABLE_PYTHON)
+  add_definitions(-DENABLE_PYTHON)
   list(APPEND qtgui_libs
     ${PYTHON_LIBRARIES}
   )
diff --git a/gr-qtgui/swig/CMakeLists.txt b/gr-qtgui/swig/CMakeLists.txt
index 1c9a182..5207318 100644
--- a/gr-qtgui/swig/CMakeLists.txt
+++ b/gr-qtgui/swig/CMakeLists.txt
@@ -23,6 +23,9 @@
 include(GrPython)
 include(GrSwig)
 
+add_definitions(-DENABLE_PYTHON)
+list(APPEND GR_SWIG_FLAGS "-DENABLE_PYTHON")
+
 set(GR_SWIG_INCLUDE_DIRS
     ${GR_QTGUI_INCLUDE_DIRS}
     ${GR_FFT_INCLUDE_DIRS}
-- 
1.7.10.4

