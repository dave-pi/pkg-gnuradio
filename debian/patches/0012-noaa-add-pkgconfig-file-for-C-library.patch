From 877e92eb06f2603930a049ffc75e234b711fafa4 Mon Sep 17 00:00:00 2001
From: Johnathan Corgan <jcorgan@corganenterprises.com>
Date: Wed, 18 Jan 2012 08:57:29 -0800
Subject: [PATCH 12/47] noaa: add pkgconfig file for C++ library

---
 gr-noaa/CMakeLists.txt      |   14 ++++++++++++++
 gr-noaa/Makefile.am         |    2 ++
 gr-noaa/gnuradio-noaa.pc.in |   11 +++++++++++
 3 files changed, 27 insertions(+), 0 deletions(-)
 create mode 100644 gr-noaa/gnuradio-noaa.pc.in

diff --git a/gr-noaa/CMakeLists.txt b/gr-noaa/CMakeLists.txt
index 621dd5d..a3a5d56 100644
--- a/gr-noaa/CMakeLists.txt
+++ b/gr-noaa/CMakeLists.txt
@@ -84,4 +84,18 @@ if(ENABLE_PYTHON)
     add_subdirectory(apps)
 endif(ENABLE_PYTHON)
 
+########################################################################
+# Create Pkg Config File
+########################################################################
+configure_file(
+    ${CMAKE_CURRENT_SOURCE_DIR}/gnuradio-noaa.pc.in
+    ${CMAKE_CURRENT_BINARY_DIR}/gnuradio-noaa.pc
+@ONLY)
+
+install(
+    FILES ${CMAKE_CURRENT_BINARY_DIR}/gnuradio-noaa.pc
+    DESTINATION ${GR_LIBRARY_DIR}/pkgconfig
+    COMPONENT "noaa_devel"
+)
+
 endif(ENABLE_GR_NOAA)
diff --git a/gr-noaa/Makefile.am b/gr-noaa/Makefile.am
index 854ce14..ce5f661 100644
--- a/gr-noaa/Makefile.am
+++ b/gr-noaa/Makefile.am
@@ -27,3 +27,5 @@ if PYTHON
 SUBDIRS += swig python apps
 endif
 
+pkgconfigdir = $(libdir)/pkgconfig
+dist_pkgconfig_DATA = gnuradio-noaa.pc
diff --git a/gr-noaa/gnuradio-noaa.pc.in b/gr-noaa/gnuradio-noaa.pc.in
new file mode 100644
index 0000000..cacfeec
--- /dev/null
+++ b/gr-noaa/gnuradio-noaa.pc.in
@@ -0,0 +1,11 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+Name: gnuradio-noaa
+Description: GNU Radio blocks implementing a NOAA satellite protocols
+Requires: gnuradio-core
+Version: @LIBVER@
+Libs: -L${libdir} -lgnuradio-noaa
+Cflags: -I${includedir}
-- 
1.7.9.1

