From 11d59e9f227e3d3f5c388c376ee59e0cfa021dcf Mon Sep 17 00:00:00 2001
From: Bastian Bloessl <bloessl@ccs-labs.org>
Date: Tue, 3 Jan 2017 00:51:05 +0100
Subject: [PATCH 49/58] cmake: remove duplicate swig includes

---
 cmake/Modules/GrSwig.cmake  | 3 ---
 cmake/Modules/UseSWIG.cmake | 1 +
 2 files changed, 1 insertion(+), 3 deletions(-)

diff --git a/cmake/Modules/GrSwig.cmake b/cmake/Modules/GrSwig.cmake
index 8ff2793275..7d1d76ca54 100644
--- a/cmake/Modules/GrSwig.cmake
+++ b/cmake/Modules/GrSwig.cmake
@@ -180,9 +180,6 @@ macro(GR_SWIG_MAKE name)
 
     #setup the swig flags with flags and include directories
     set(CMAKE_SWIG_FLAGS -fvirtual -modern -keyword -w511 -module ${name} ${GR_SWIG_FLAGS})
-    foreach(dir ${GR_SWIG_INCLUDE_DIRS})
-        list(APPEND CMAKE_SWIG_FLAGS "-I${dir}")
-    endforeach(dir)
 
     #set the C++ property on the swig .i file so it builds
     set_source_files_properties(${ifiles} PROPERTIES CPLUSPLUS ON)
diff --git a/cmake/Modules/UseSWIG.cmake b/cmake/Modules/UseSWIG.cmake
index d1014943de..ffb930ca00 100644
--- a/cmake/Modules/UseSWIG.cmake
+++ b/cmake/Modules/UseSWIG.cmake
@@ -155,6 +155,7 @@ macro(SWIG_ADD_SOURCE_TO_MODULE name outfiles infile)
   endif(HAVE_WNO_UNUSED_BUT_SET_VARIABLE)
 
   get_directory_property(cmake_include_directories INCLUDE_DIRECTORIES)
+  list(REMOVE_DUPLICATES cmake_include_directories)
   set(swig_include_dirs)
   foreach(it ${cmake_include_directories})
     set(swig_include_dirs ${swig_include_dirs} "-I${it}")
-- 
2.11.0

