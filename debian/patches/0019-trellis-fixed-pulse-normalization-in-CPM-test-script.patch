From ff4971fda48d765a12437b3eb6611994eb067a7a Mon Sep 17 00:00:00 2001
From: Sean Nowlan <sean.nowlan@gtri.gatech.edu>
Date: Tue, 15 Sep 2015 14:03:12 -0400
Subject: [PATCH 19/21] trellis: fixed pulse normalization in CPM test script

---
 gr-trellis/examples/python/test_cpm.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/gr-trellis/examples/python/test_cpm.py b/gr-trellis/examples/python/test_cpm.py
index 6fe25ec..8014c87 100755
--- a/gr-trellis/examples/python/test_cpm.py
+++ b/gr-trellis/examples/python/test_cpm.py
@@ -44,6 +44,7 @@ def run_test(seed,blocksize):
 
         # CPFSK signals
         #p = numpy.ones(L*Q)
+        #p = p/sum(p)*Q/2.0;
         #q = numpy.cumsum(p)
         #q = q/q[-1]/2.0;
 
@@ -54,7 +55,7 @@ def run_test(seed,blocksize):
         p=(0.5*scipy.special.erfc(2*math.pi*BT*(tt-0.5)/math.sqrt(math.log(2.0))/math.sqrt(2.0))-0.5*scipy.special.erfc(2*math.pi*BT*(tt+0.5)/math.sqrt(math.log(2.0))/math.sqrt(2.0)))/2.0;
         p=p/sum(p)*Q/2.0;
         #print p
-        q=numpy.cumsum(p)/Q;
+        q=numpy.cumsum(p);
         q=q/q[-1]/2.0;
         #print q
 
-- 
2.1.4

