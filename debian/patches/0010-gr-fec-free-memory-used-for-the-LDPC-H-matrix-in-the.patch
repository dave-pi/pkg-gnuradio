From 5abda7a5d3dec6d8dcd47d355248660564d2e56a Mon Sep 17 00:00:00 2001
From: tracierenea <tracie.perez@mavs.uta.edu>
Date: Thu, 7 Apr 2016 01:21:16 -0500
Subject: [PATCH 10/28] gr-fec: free memory used for the LDPC H matrix in the
 destructor

---
 gr-fec/lib/ldpc_G_matrix_impl.cc | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/gr-fec/lib/ldpc_G_matrix_impl.cc b/gr-fec/lib/ldpc_G_matrix_impl.cc
index f12b4e9..0ea76f2 100644
--- a/gr-fec/lib/ldpc_G_matrix_impl.cc
+++ b/gr-fec/lib/ldpc_G_matrix_impl.cc
@@ -151,6 +151,7 @@ namespace gr {
       ldpc_G_matrix_impl::encode(unsigned char *outbuffer,
                                   const unsigned char *inbuffer) const
       {
+
         unsigned int index, k = d_k, n = d_n;
         gsl_matrix *s = gsl_matrix_alloc(k, 1);
         for(index = 0; index < k; index++) {
@@ -290,6 +291,7 @@ namespace gr {
       {
         // Call the gsl_matrix_free function to free memory.
         gsl_matrix_free(d_G_transp_ptr);
+        gsl_matrix_free(d_H_obj);
       }
     } /* namespace code */
   } /* namespace fec */
-- 
2.1.4

