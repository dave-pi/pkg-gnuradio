From 45d1580607b7aaa350e6aef33eb55593672a747e Mon Sep 17 00:00:00 2001
From: Tom Rondeau <tom@trondeau.com>
Date: Tue, 24 Sep 2013 18:03:33 -0400
Subject: [PATCH 32/40] grc: fixes issue of needing [] around the core
 affinity field in GRC.

Check for minoutbuf was buggy.
---
 grc/python/flow_graph.tmpl |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/grc/python/flow_graph.tmpl b/grc/python/flow_graph.tmpl
index cf78923..8b44f55 100644
--- a/grc/python/flow_graph.tmpl
+++ b/grc/python/flow_graph.tmpl
@@ -161,11 +161,11 @@ gr.io_signaturev($(len($io_sigs)), $(len($io_sigs)), [$(', '.join($size_strs))])
         $indent($blk.get_make())
     #else
         self.$blk.get_id() = $indent($blk.get_make())
-        #if $blk.has_param('affinity') and $blk.get_param('affinity').get_value()
-        (self.$blk.get_id()).set_processor_affinity($blk.get_param('affinity').get_value())
+        #if $blk.has_param('affinity') and $blk.get_param('affinity').get_evaluated()
+        (self.$blk.get_id()).set_processor_affinity($blk.get_param('affinity').get_evaluated())
         #end if
-        #if (len($blk.get_sources())>0) and $blk.has_param('affinity') and (int($blk.get_param('minoutbuf').get_value()) > 0)
-        (self.$blk.get_id()).set_min_output_buffer($blk.get_param('minoutbuf').get_value())
+        #if (len($blk.get_sources())>0) and $blk.has_param('minoutbuf') and (int($blk.get_param('minoutbuf').get_evaluated()) > 0)
+        (self.$blk.get_id()).set_min_output_buffer($blk.get_param('minoutbuf').get_evaluated())
         #end if
     #end if
 #end for
-- 
1.7.10.4

