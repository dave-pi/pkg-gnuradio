From 5e18f0a1c83dc4d039eb976da2ae846bd3ce6a28 Mon Sep 17 00:00:00 2001
From: Martin Braun <martin.braun@ettus.com>
Date: Wed, 13 Aug 2014 14:18:25 +0200
Subject: [PATCH 03/10] modtool: Fixed a bug in makexml for int-type io
 signatures

---
 gr-utils/python/modtool/modtool_makexml.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/gr-utils/python/modtool/modtool_makexml.py b/gr-utils/python/modtool/modtool_makexml.py
index 28eabe1..82dc9d9 100644
--- a/gr-utils/python/modtool/modtool_makexml.py
+++ b/gr-utils/python/modtool/modtool_makexml.py
@@ -137,7 +137,7 @@ class ModToolMakeXML(ModTool):
                               'std::vector<float>': 'real_vector',
                               'std::vector<gr_complex>': 'complex_vector',
                               }
-            if p_type in ('int',) and default_v[:2].lower() == '0x':
+            if p_type in ('int',) and default_v is not None and len(default_v) > 1 and default_v[:2].lower() == '0x':
                 return 'hex'
             try:
                 return translate_dict[p_type]
-- 
1.7.10.4

