From 9e2eb46fe625f4ac04cc3e85c791b5e9dd903689 Mon Sep 17 00:00:00 2001
From: Tom Rondeau <tom@trondeau.com>
Date: Thu, 14 Jan 2016 16:09:25 -0500
Subject: [PATCH 05/19] cmake: cmake should get native thrift binary when cross
 compiling.

---
 cmake/Modules/FindThrift.cmake | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/cmake/Modules/FindThrift.cmake b/cmake/Modules/FindThrift.cmake
index 4702f90..e5a8df1 100644
--- a/cmake/Modules/FindThrift.cmake
+++ b/cmake/Modules/FindThrift.cmake
@@ -34,7 +34,11 @@ FIND_LIBRARY(THRIFT_LIBRARIES
   )
 
 # Get the thrift binary to build our files during cmake
-FIND_PROGRAM(THRIFT_BIN thrift)
+if (CMAKE_CROSSCOMPILING)
+  FIND_PROGRAM(THRIFT_BIN thrift NO_CMAKE_FIND_ROOT_PATH)
+else (CMAKE_CROSSCOMPILING)
+  FIND_PROGRAM(THRIFT_BIN thrift)
+endif(CMAKE_CROSSCOMPILING)
 
 # Use binary to get version string and test against THRIFT_REQ_VERSION
 EXECUTE_PROCESS(
-- 
2.1.4

